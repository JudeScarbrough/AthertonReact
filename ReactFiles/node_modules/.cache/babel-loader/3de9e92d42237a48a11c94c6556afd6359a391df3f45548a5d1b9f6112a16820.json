{"ast":null,"code":"import{ViewBlock}from\"./viewBlock\";import{EditBlock}from\"./editBlock\";import{useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export function MainBlock(_ref){let{user,userData,index,updateUserData,forceClose,forceCloseEdit}=_ref;const[isEiditing,setEditing]=useState(false);console.log(\"force close: \",forceClose);useEffect(()=>{if(forceClose){setEditing(false);}},[forceClose]);const flipEditState=()=>{if(forceClose){forceCloseEdit();}setEditing(!isEiditing);};const confirmUser=updatedUser=>{//update userData\nuserData.clientData[index]=updatedUser;// send new user data to be updated\nupdateUserData(userData);// revert block\nflipEditState();};function removeElementAtIndex(list,index){if(index>=0&&index<list.length){return list.slice(0,index).concat(list.slice(index+1));}return list.slice();// Return a copy of the list if the index is out of bounds\n}const deleteUser=()=>{// Check if index is within the range of the array\nuserData.clientData=removeElementAtIndex(userData.clientData,index);// Call the function to toggle the edit state\nflipEditState();// Update the userData with the new array\nupdateUserData(userData);};if(isEiditing==true&&!forceClose){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(EditBlock,{user:user,userData:userData,flipEditState:flipEditState,confirmUser:confirmUser,deleteUser:deleteUser})});}else{return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(ViewBlock,{user:user,userData:userData,flipEditState:flipEditState})});}}","map":{"version":3,"names":["ViewBlock","EditBlock","useState","useEffect","jsx","_jsx","Fragment","_Fragment","MainBlock","_ref","user","userData","index","updateUserData","forceClose","forceCloseEdit","isEiditing","setEditing","console","log","flipEditState","confirmUser","updatedUser","clientData","removeElementAtIndex","list","length","slice","concat","deleteUser","children"],"sources":["/Users/jscarbrough/Desktop/AthertonReact/src/dashboard/subApps/cm/userBlock/mainBlock.js"],"sourcesContent":["import { ViewBlock } from \"./viewBlock\"\nimport { EditBlock } from \"./editBlock\"\nimport { useState, useEffect } from \"react\"\n\nexport function MainBlock({ user, userData, index, updateUserData, forceClose, forceCloseEdit }){\n\n    const [isEiditing, setEditing] = useState(false)\n\n\n    console.log(\"force close: \", forceClose)\n\n    useEffect(() => {\n        if(forceClose){\n            setEditing(false);\n        }\n    }, [forceClose]);\n\n\n    const flipEditState = () => {\n        if(forceClose){\n            forceCloseEdit()\n        }\n        setEditing(!isEiditing)\n    }\n\n\n    const confirmUser = (updatedUser) => {\n\n        //update userData\n        userData.clientData[index] = updatedUser\n        // send new user data to be updated\n        updateUserData(userData)\n\n        // revert block\n        flipEditState()\n\n    }\n\n\n    function removeElementAtIndex(list, index) {\n\n        if (index >= 0 && index < list.length) {\n            return list.slice(0, index).concat(list.slice(index + 1));\n            \n        }\n        return list.slice(); // Return a copy of the list if the index is out of bounds\n    }\n\n    const deleteUser = () => {\n        // Check if index is within the range of the array\n\n        userData.clientData = removeElementAtIndex(userData.clientData, index)\n\n        // Call the function to toggle the edit state\n        flipEditState();\n        // Update the userData with the new array\n        updateUserData(userData);\n\n    };\n\n\n    if((isEiditing == true) && !forceClose){\n        return (<>\n            <EditBlock user={user}  userData={ userData} flipEditState={flipEditState} confirmUser={confirmUser} deleteUser={deleteUser}></EditBlock>\n\n        </>)\n    } else {\n        return (<>\n            <ViewBlock user={user} userData={ userData} flipEditState={flipEditState}></ViewBlock>\n        </>)\n    }\n\n}"],"mappings":"AAAA,OAASA,SAAS,KAAQ,aAAa,CACvC,OAASC,SAAS,KAAQ,aAAa,CACvC,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE3C,MAAO,SAAS,CAAAC,SAASA,CAAAC,IAAA,CAAuE,IAAtE,CAAEC,IAAI,CAAEC,QAAQ,CAAEC,KAAK,CAAEC,cAAc,CAAEC,UAAU,CAAEC,cAAe,CAAC,CAAAN,IAAA,CAE3F,KAAM,CAACO,UAAU,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CAGhDgB,OAAO,CAACC,GAAG,CAAC,eAAe,CAAEL,UAAU,CAAC,CAExCX,SAAS,CAAC,IAAM,CACZ,GAAGW,UAAU,CAAC,CACVG,UAAU,CAAC,KAAK,CAAC,CACrB,CACJ,CAAC,CAAE,CAACH,UAAU,CAAC,CAAC,CAGhB,KAAM,CAAAM,aAAa,CAAGA,CAAA,GAAM,CACxB,GAAGN,UAAU,CAAC,CACVC,cAAc,CAAC,CAAC,CACpB,CACAE,UAAU,CAAC,CAACD,UAAU,CAAC,CAC3B,CAAC,CAGD,KAAM,CAAAK,WAAW,CAAIC,WAAW,EAAK,CAEjC;AACAX,QAAQ,CAACY,UAAU,CAACX,KAAK,CAAC,CAAGU,WAAW,CACxC;AACAT,cAAc,CAACF,QAAQ,CAAC,CAExB;AACAS,aAAa,CAAC,CAAC,CAEnB,CAAC,CAGD,QAAS,CAAAI,oBAAoBA,CAACC,IAAI,CAAEb,KAAK,CAAE,CAEvC,GAAIA,KAAK,EAAI,CAAC,EAAIA,KAAK,CAAGa,IAAI,CAACC,MAAM,CAAE,CACnC,MAAO,CAAAD,IAAI,CAACE,KAAK,CAAC,CAAC,CAAEf,KAAK,CAAC,CAACgB,MAAM,CAACH,IAAI,CAACE,KAAK,CAACf,KAAK,CAAG,CAAC,CAAC,CAAC,CAE7D,CACA,MAAO,CAAAa,IAAI,CAACE,KAAK,CAAC,CAAC,CAAE;AACzB,CAEA,KAAM,CAAAE,UAAU,CAAGA,CAAA,GAAM,CACrB;AAEAlB,QAAQ,CAACY,UAAU,CAAGC,oBAAoB,CAACb,QAAQ,CAACY,UAAU,CAAEX,KAAK,CAAC,CAEtE;AACAQ,aAAa,CAAC,CAAC,CACf;AACAP,cAAc,CAACF,QAAQ,CAAC,CAE5B,CAAC,CAGD,GAAIK,UAAU,EAAI,IAAI,EAAK,CAACF,UAAU,CAAC,CACnC,mBAAQT,IAAA,CAAAE,SAAA,EAAAuB,QAAA,cACJzB,IAAA,CAACJ,SAAS,EAACS,IAAI,CAAEA,IAAK,CAAEC,QAAQ,CAAGA,QAAS,CAACS,aAAa,CAAEA,aAAc,CAACC,WAAW,CAAEA,WAAY,CAACQ,UAAU,CAAEA,UAAW,CAAY,CAAC,CAE3I,CAAC,CACP,CAAC,IAAM,CACH,mBAAQxB,IAAA,CAAAE,SAAA,EAAAuB,QAAA,cACJzB,IAAA,CAACL,SAAS,EAACU,IAAI,CAAEA,IAAK,CAACC,QAAQ,CAAGA,QAAS,CAACS,aAAa,CAAEA,aAAc,CAAY,CAAC,CACxF,CAAC,CACP,CAEJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}