{"ast":null,"code":"import React,{useState}from'react';import'../cssFiles/settings.css';import{setData,getUserData}from'../database/database';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function SettingsForm(props){const[companyName,setCompanyName]=useState(props.userData&&props.userData[\"settings\"]&&props.userData[\"settings\"][0]?props.userData[\"settings\"][0]:'');const[customerEmail,setCustomerEmail]=useState(props.userData&&props.userData[\"settings\"]&&props.userData[\"settings\"][1]?props.userData[\"settings\"][1]:'');const[customerPhone,setCustomerPhone]=useState(props.userData&&props.userData[\"settings\"]&&props.userData[\"settings\"][2]?props.userData[\"settings\"][2]:'');// State to control popup visibility\nconst[showPopup,setShowPopup]=useState(false);const validateInputs=()=>{const emailRegex=/\\S+@\\S+\\.\\S+/;const phoneRegex=/^[0-9]{10}$/;if(!companyName.trim())alert(\"Company name is required.\");else if(!emailRegex.test(customerEmail))alert(\"Please enter a valid email address.\");else if(!phoneRegex.test(customerPhone))alert(\"Please enter a valid phone number.\");else return true;return false;};const handleSubmit=()=>{if(validateInputs()){submitData(companyName,customerEmail,customerPhone,props.changeUserDataState,setShowPopup);}};function PopupMessage(){return/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'0px',left:'50%',transform:'translateX(-50%) translateY(-100px)',width:'100%',textAlign:'center',backgroundColor:'#dff0d8',color:'#3c763d',padding:'10px',borderRadius:'5px',border:'1px solid #d6e9c6',zIndex:2,marginBottom:'20px'},children:\"Settings Updated Successfully!\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",style:{position:'relative'},children:[showPopup&&/*#__PURE__*/_jsx(PopupMessage,{}),/*#__PURE__*/_jsx(\"h2\",{children:\"Settings\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"companyName\",children:\"Company Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"companyName\",name:\"companyName\",placeholder:\"Company Name\",required:true,value:companyName,onChange:e=>setCompanyName(e.target.value)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"customerEmail\",children:\"Customer Contact Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"customerEmail\",name:\"customerEmail\",placeholder:\"Customer Contact Email\",required:true,value:customerEmail,onChange:e=>setCustomerEmail(e.target.value)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"customerPhone\",children:\"Customer Contact Phone Number:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",id:\"customerPhone\",name:\"customerPhone\",placeholder:\"Customer Contact Phone Number\",required:true,value:customerPhone,onChange:e=>setCustomerPhone(e.target.value)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,type:\"submit\",id:\"confirm\",children:\"Confirm\"})]});}function submitData(companyName,customerEmail,customerPhone,changeUserDataState,setShowPopup){console.log('Submitting data:',{companyName,customerEmail,customerPhone});getUserData().then(data=>{data[\"setup\"]=\"Yes\";data[\"settings\"]=[companyName,customerEmail,customerPhone];setData(data);changeUserDataState(data);setShowPopup(true);setTimeout(()=>setShowPopup(false),5000);}).catch(error=>{console.error(\"Failed to get user data:\",error);});}","map":{"version":3,"names":["React","useState","setData","getUserData","jsx","_jsx","jsxs","_jsxs","SettingsForm","props","companyName","setCompanyName","userData","customerEmail","setCustomerEmail","customerPhone","setCustomerPhone","showPopup","setShowPopup","validateInputs","emailRegex","phoneRegex","trim","alert","test","handleSubmit","submitData","changeUserDataState","PopupMessage","style","position","top","left","transform","width","textAlign","backgroundColor","color","padding","borderRadius","border","zIndex","marginBottom","children","className","htmlFor","type","id","name","placeholder","required","value","onChange","e","target","onClick","console","log","then","data","setTimeout","catch","error"],"sources":["/Users/jscarbrough/Desktop/AthertonReact/src/setup/settings.js"],"sourcesContent":["import React, { useState } from 'react';\nimport '../cssFiles/settings.css';\nimport { setData, getUserData } from '../database/database';\n\nexport function SettingsForm(props) {\n  const [companyName, setCompanyName] = useState(\n    props.userData && props.userData[\"settings\"] && props.userData[\"settings\"][0] ? props.userData[\"settings\"][0] : ''\n  );\n  const [customerEmail, setCustomerEmail] = useState(\n    props.userData && props.userData[\"settings\"] && props.userData[\"settings\"][1] ? props.userData[\"settings\"][1] : ''\n  );\n  const [customerPhone, setCustomerPhone] = useState(\n    props.userData && props.userData[\"settings\"] && props.userData[\"settings\"][2] ? props.userData[\"settings\"][2] : ''\n  );\n\n  // State to control popup visibility\n  const [showPopup, setShowPopup] = useState(false);\n\n  const validateInputs = () => {\n    const emailRegex = /\\S+@\\S+\\.\\S+/;\n    const phoneRegex = /^[0-9]{10}$/;\n\n    if (!companyName.trim()) alert(\"Company name is required.\");\n    else if (!emailRegex.test(customerEmail)) alert(\"Please enter a valid email address.\");\n    else if (!phoneRegex.test(customerPhone)) alert(\"Please enter a valid phone number.\");\n    else return true;\n\n    return false;\n  };\n\n  const handleSubmit = () => {\n    if (validateInputs()) {\n      submitData(companyName, customerEmail, customerPhone, props.changeUserDataState, setShowPopup);\n    }\n  };\n\n  function PopupMessage() {\n    return (\n      <div style={{\n        position: 'absolute',\n        top: '0px',\n        left: '50%',\n        transform: 'translateX(-50%) translateY(-100px)',\n        width: '100%',\n        textAlign: 'center',\n        backgroundColor: '#dff0d8',\n        color: '#3c763d',\n        padding: '10px',\n        borderRadius: '5px',\n        border: '1px solid #d6e9c6',\n        zIndex: 2,\n        marginBottom: '20px',\n      }}>\n        Settings Updated Successfully!\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"login-container\" style={{ position: 'relative' }}>\n      {showPopup && <PopupMessage />}\n\n      <h2>Settings</h2>\n      \n      <label htmlFor=\"companyName\">Company Name:</label>\n      <input\n        type=\"text\"\n        id=\"companyName\"\n        name=\"companyName\"\n        placeholder=\"Company Name\"\n        required\n        value={companyName}\n        onChange={e => setCompanyName(e.target.value)}\n      /><br /><br />\n\n      <label htmlFor=\"customerEmail\">Customer Contact Email:</label>\n      <input\n        type=\"email\"\n        id=\"customerEmail\"\n        name=\"customerEmail\"\n        placeholder=\"Customer Contact Email\"\n        required\n        value={customerEmail}\n        onChange={e => setCustomerEmail(e.target.value)}\n      /><br /><br />\n\n      <label htmlFor=\"customerPhone\">Customer Contact Phone Number:</label>\n      <input\n        type=\"tel\"\n        id=\"customerPhone\"\n        name=\"customerPhone\"\n        placeholder=\"Customer Contact Phone Number\"\n        required\n        value={customerPhone}\n        onChange={e => setCustomerPhone(e.target.value)}\n      /><br /><br />\n\n      <button onClick={handleSubmit} type=\"submit\" id=\"confirm\">Confirm</button>\n    </div>\n  );\n}\n\nfunction submitData(companyName, customerEmail, customerPhone, changeUserDataState, setShowPopup) {\n  console.log('Submitting data:', { companyName, customerEmail, customerPhone });\n\n  getUserData().then(data => {\n    data[\"setup\"] = \"Yes\";\n    data[\"settings\"] = [companyName, customerEmail, customerPhone];\n    setData(data);\n    changeUserDataState(data);\n    setShowPopup(true);\n    setTimeout(() => setShowPopup(false), 5000);\n  }).catch(error => {\n    console.error(\"Failed to get user data:\", error);\n  });\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}