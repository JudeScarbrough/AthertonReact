{"ast":null,"code":"var _jsxFileName = \"/Users/jscarbrough/Desktop/AthertonReact/src/dashboard/subApps/cm/userBlock/mainBlock.js\",\n  _s = $RefreshSig$();\nimport { ViewBlock } from \"./viewBlock\";\nimport { EditBlock } from \"./editBlock\";\nimport { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function MainBlock({\n  user,\n  userData,\n  index,\n  updateUserData,\n  forceClose,\n  forceCloseEdit\n}) {\n  _s();\n  const [isEiditing, setEditing] = useState(false);\n  console.log(\"force close: \", forceClose);\n  useEffect(() => {\n    if (forceClose) {\n      setEditing(false);\n    }\n  }, [forceClose]);\n  const flipEditState = () => {\n    if (forceClose) {\n      forceCloseEdit();\n    }\n    setEditing(!isEiditing);\n  };\n  const confirmUser = updatedUser => {\n    //update userData\n    userData.clientData[index] = updatedUser;\n    // send new user data to be updated\n    updateUserData(userData);\n\n    // revert block\n    flipEditState();\n  };\n  function removeElementAtIndex(list, index) {\n    if (index >= 0 && index < list.length) {\n      return list.slice(0, index).concat(list.slice(index + 1));\n    }\n    return list.slice(); // Return a copy of the list if the index is out of bounds\n  }\n  const deleteUser = () => {\n    // Check if index is within the range of the array\n\n    userData.clientData = removeElementAtIndex(userData.clientData, index);\n\n    // Call the function to toggle the edit state\n    flipEditState();\n    // Update the userData with the new array\n    updateUserData(userData);\n  };\n  if (isEiditing == true && !forceClose) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(EditBlock, {\n        user: user,\n        userData: userData,\n        flipEditState: flipEditState,\n        confirmUser: confirmUser,\n        deleteUser: deleteUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this)\n    }, void 0, false);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(ViewBlock, {\n        user: user,\n        userData: userData,\n        flipEditState: flipEditState\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this)\n    }, void 0, false);\n  }\n}\n_s(MainBlock, \"SLawzeXper2sqksVsoHgQGWh1gY=\");\n_c = MainBlock;\nvar _c;\n$RefreshReg$(_c, \"MainBlock\");","map":{"version":3,"names":["ViewBlock","EditBlock","useState","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","MainBlock","user","userData","index","updateUserData","forceClose","forceCloseEdit","_s","isEiditing","setEditing","console","log","flipEditState","confirmUser","updatedUser","clientData","removeElementAtIndex","list","length","slice","concat","deleteUser","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/jscarbrough/Desktop/AthertonReact/src/dashboard/subApps/cm/userBlock/mainBlock.js"],"sourcesContent":["import { ViewBlock } from \"./viewBlock\"\nimport { EditBlock } from \"./editBlock\"\nimport { useState, useEffect } from \"react\"\n\nexport function MainBlock({ user, userData, index, updateUserData, forceClose, forceCloseEdit }){\n\n    const [isEiditing, setEditing] = useState(false)\n\n\n    console.log(\"force close: \", forceClose)\n\n    useEffect(() => {\n        if(forceClose){\n            setEditing(false);\n        }\n    }, [forceClose]);\n\n\n    const flipEditState = () => {\n        if(forceClose){\n            forceCloseEdit()\n        }\n        setEditing(!isEiditing)\n    }\n\n\n    const confirmUser = (updatedUser) => {\n\n        //update userData\n        userData.clientData[index] = updatedUser\n        // send new user data to be updated\n        updateUserData(userData)\n\n        // revert block\n        flipEditState()\n\n    }\n\n\n    function removeElementAtIndex(list, index) {\n\n        if (index >= 0 && index < list.length) {\n            return list.slice(0, index).concat(list.slice(index + 1));\n            \n        }\n        return list.slice(); // Return a copy of the list if the index is out of bounds\n    }\n\n    const deleteUser = () => {\n        // Check if index is within the range of the array\n\n        userData.clientData = removeElementAtIndex(userData.clientData, index)\n\n        // Call the function to toggle the edit state\n        flipEditState();\n        // Update the userData with the new array\n        updateUserData(userData);\n\n    };\n\n\n    if((isEiditing == true) && !forceClose){\n        return (<>\n            <EditBlock user={user}  userData={ userData} flipEditState={flipEditState} confirmUser={confirmUser} deleteUser={deleteUser}></EditBlock>\n\n        </>)\n    } else {\n        return (<>\n            <ViewBlock user={user} userData={ userData} flipEditState={flipEditState}></ViewBlock>\n        </>)\n    }\n\n}"],"mappings":";;AAAA,SAASA,SAAS,QAAQ,aAAa;AACvC,SAASC,SAAS,QAAQ,aAAa;AACvC,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE3C,OAAO,SAASC,SAASA,CAAC;EAAEC,IAAI;EAAEC,QAAQ;EAAEC,KAAK;EAAEC,cAAc;EAAEC,UAAU;EAAEC;AAAe,CAAC,EAAC;EAAAC,EAAA;EAE5F,MAAM,CAACC,UAAU,EAAEC,UAAU,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EAGhDgB,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEN,UAAU,CAAC;EAExCV,SAAS,CAAC,MAAM;IACZ,IAAGU,UAAU,EAAC;MACVI,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ,CAAC,EAAE,CAACJ,UAAU,CAAC,CAAC;EAGhB,MAAMO,aAAa,GAAGA,CAAA,KAAM;IACxB,IAAGP,UAAU,EAAC;MACVC,cAAc,CAAC,CAAC;IACpB;IACAG,UAAU,CAAC,CAACD,UAAU,CAAC;EAC3B,CAAC;EAGD,MAAMK,WAAW,GAAIC,WAAW,IAAK;IAEjC;IACAZ,QAAQ,CAACa,UAAU,CAACZ,KAAK,CAAC,GAAGW,WAAW;IACxC;IACAV,cAAc,CAACF,QAAQ,CAAC;;IAExB;IACAU,aAAa,CAAC,CAAC;EAEnB,CAAC;EAGD,SAASI,oBAAoBA,CAACC,IAAI,EAAEd,KAAK,EAAE;IAEvC,IAAIA,KAAK,IAAI,CAAC,IAAIA,KAAK,GAAGc,IAAI,CAACC,MAAM,EAAE;MACnC,OAAOD,IAAI,CAACE,KAAK,CAAC,CAAC,EAAEhB,KAAK,CAAC,CAACiB,MAAM,CAACH,IAAI,CAACE,KAAK,CAAChB,KAAK,GAAG,CAAC,CAAC,CAAC;IAE7D;IACA,OAAOc,IAAI,CAACE,KAAK,CAAC,CAAC,CAAC,CAAC;EACzB;EAEA,MAAME,UAAU,GAAGA,CAAA,KAAM;IACrB;;IAEAnB,QAAQ,CAACa,UAAU,GAAGC,oBAAoB,CAACd,QAAQ,CAACa,UAAU,EAAEZ,KAAK,CAAC;;IAEtE;IACAS,aAAa,CAAC,CAAC;IACf;IACAR,cAAc,CAACF,QAAQ,CAAC;EAE5B,CAAC;EAGD,IAAIM,UAAU,IAAI,IAAI,IAAK,CAACH,UAAU,EAAC;IACnC,oBAAQR,OAAA,CAAAE,SAAA;MAAAuB,QAAA,eACJzB,OAAA,CAACJ,SAAS;QAACQ,IAAI,EAAEA,IAAK;QAAEC,QAAQ,EAAGA,QAAS;QAACU,aAAa,EAAEA,aAAc;QAACC,WAAW,EAAEA,WAAY;QAACQ,UAAU,EAAEA;MAAW;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY;IAAC,gBAE3I,CAAC;EACP,CAAC,MAAM;IACH,oBAAQ7B,OAAA,CAAAE,SAAA;MAAAuB,QAAA,eACJzB,OAAA,CAACL,SAAS;QAACS,IAAI,EAAEA,IAAK;QAACC,QAAQ,EAAGA,QAAS;QAACU,aAAa,EAAEA;MAAc;QAAAW,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY;IAAC,gBACxF,CAAC;EACP;AAEJ;AAACnB,EAAA,CApEeP,SAAS;AAAA2B,EAAA,GAAT3B,SAAS;AAAA,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}