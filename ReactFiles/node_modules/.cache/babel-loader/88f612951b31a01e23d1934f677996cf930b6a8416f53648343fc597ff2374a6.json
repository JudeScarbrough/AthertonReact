{"ast":null,"code":"import React,{useState,useEffect}from'react';import\"../../../cssFiles/cm.css\";import{UserBlock}from'./userBlock/userBlock.js';import{AddUser}from'./addUser.js';import{getUserData,setData}from'../../../database/database.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function ClientManager(props){const[userData,setUserData]=useState(props.userData);const[refreshKey,setRefreshKey]=useState(0);// State to trigger useEffect\nconst[forceClose,setForceClose]=useState(false);useEffect(()=>{// Fetch the latest user data\ngetUserData().then(fetchedData=>{// Check if the fetched data is different from the current state\nif(JSON.stringify(fetchedData)!==JSON.stringify(userData)){// Update state if the data is different\nsetUserData(fetchedData);}});},[refreshKey]);// Depend on refreshKey to re-fetch user data\nconst updateUserData=newUserData=>{setUserData(newUserData);// Update the state\nsetData(newUserData);// Call setData to update the database\nsetRefreshKey(prevKey=>prevKey+1);// Increment refreshKey to trigger useEffect\n};const forceCloseEdit=()=>{setForceClose(!forceClose);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AddUser,{userData:userData,updateUserData:updateUserData,forceCloseEdit:forceCloseEdit}),/*#__PURE__*/_jsx(UserBlock,{userData:userData,updateUserData:updateUserData,forceCloseEdit:forceCloseEdit,forceClose:forceClose})]});}","map":{"version":3,"names":["React","useState","useEffect","UserBlock","AddUser","getUserData","setData","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ClientManager","props","userData","setUserData","refreshKey","setRefreshKey","forceClose","setForceClose","then","fetchedData","JSON","stringify","updateUserData","newUserData","prevKey","forceCloseEdit","children"],"sources":["/Users/jscarbrough/Desktop/AthertonReact/src/dashboard/subApps/cm/cm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport \"../../../cssFiles/cm.css\";\nimport { UserBlock } from './userBlock/userBlock.js';\nimport { AddUser } from './addUser.js';\nimport { getUserData, setData } from '../../../database/database.js';\n\nexport function ClientManager(props) {\n    const [userData, setUserData] = useState(props.userData);\n    const [refreshKey, setRefreshKey] = useState(0); // State to trigger useEffect\n    const [forceClose, setForceClose] = useState(false)\n\n    useEffect(() => {\n        // Fetch the latest user data\n        getUserData().then(fetchedData => {\n            // Check if the fetched data is different from the current state\n            if (JSON.stringify(fetchedData) !== JSON.stringify(userData)) {\n                // Update state if the data is different\n                setUserData(fetchedData);\n            }\n        });\n    }, [refreshKey]); // Depend on refreshKey to re-fetch user data\n\n    const updateUserData = (newUserData) => {\n        setUserData(newUserData); // Update the state\n        setData(newUserData); // Call setData to update the database\n        setRefreshKey(prevKey => prevKey + 1); // Increment refreshKey to trigger useEffect\n    };\n\n\n\n    const forceCloseEdit = () => {\n        setForceClose(!forceClose)\n    }\n\n\n\n\n    return (\n        <>\n            <AddUser userData={userData} updateUserData={updateUserData} forceCloseEdit={forceCloseEdit}/>\n            <UserBlock userData={userData} updateUserData={updateUserData} forceCloseEdit={forceCloseEdit} forceClose={forceClose}/>\n        </>\n    );\n}\n\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,0BAA0B,CACjC,OAASC,SAAS,KAAQ,0BAA0B,CACpD,OAASC,OAAO,KAAQ,cAAc,CACtC,OAASC,WAAW,CAAEC,OAAO,KAAQ,+BAA+B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAErE,MAAO,SAAS,CAAAC,aAAaA,CAACC,KAAK,CAAE,CACjC,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAACa,KAAK,CAACC,QAAQ,CAAC,CACxD,KAAM,CAACE,UAAU,CAAEC,aAAa,CAAC,CAAGjB,QAAQ,CAAC,CAAC,CAAC,CAAE;AACjD,KAAM,CAACkB,UAAU,CAAEC,aAAa,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAEnDC,SAAS,CAAC,IAAM,CACZ;AACAG,WAAW,CAAC,CAAC,CAACgB,IAAI,CAACC,WAAW,EAAI,CAC9B;AACA,GAAIC,IAAI,CAACC,SAAS,CAACF,WAAW,CAAC,GAAKC,IAAI,CAACC,SAAS,CAACT,QAAQ,CAAC,CAAE,CAC1D;AACAC,WAAW,CAACM,WAAW,CAAC,CAC5B,CACJ,CAAC,CAAC,CACN,CAAC,CAAE,CAACL,UAAU,CAAC,CAAC,CAAE;AAElB,KAAM,CAAAQ,cAAc,CAAIC,WAAW,EAAK,CACpCV,WAAW,CAACU,WAAW,CAAC,CAAE;AAC1BpB,OAAO,CAACoB,WAAW,CAAC,CAAE;AACtBR,aAAa,CAACS,OAAO,EAAIA,OAAO,CAAG,CAAC,CAAC,CAAE;AAC3C,CAAC,CAID,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CACzBR,aAAa,CAAC,CAACD,UAAU,CAAC,CAC9B,CAAC,CAKD,mBACIP,KAAA,CAAAF,SAAA,EAAAmB,QAAA,eACIrB,IAAA,CAACJ,OAAO,EAACW,QAAQ,CAAEA,QAAS,CAACU,cAAc,CAAEA,cAAe,CAACG,cAAc,CAAEA,cAAe,CAAC,CAAC,cAC9FpB,IAAA,CAACL,SAAS,EAACY,QAAQ,CAAEA,QAAS,CAACU,cAAc,CAAEA,cAAe,CAACG,cAAc,CAAEA,cAAe,CAACT,UAAU,CAAEA,UAAW,CAAC,CAAC,EAC1H,CAAC,CAEX"},"metadata":{},"sourceType":"module","externalDependencies":[]}